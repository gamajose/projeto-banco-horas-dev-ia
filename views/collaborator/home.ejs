<div class="grid grid-cols-2 gap-4 mb-8">
    <div class="bg-white p-4 rounded-2xl shadow-md">
        <h3 class="font-semibold text-gray-500">Horas Positivas</h3>
        <p class="text-xs text-gray-400">Você já cumpriu:</p>
        <p class="text-3xl font-bold text-blue-600 mt-2"><%= hourBalance.positive.replace('+', '') %></p>
    </div>
    <div class="bg-white p-4 rounded-2xl shadow-md">
        <h3 class="font-semibold text-gray-500">Horas negativas</h3>
        <p class="text-xs text-gray-400">Pendentes:</p>
        <p class="text-3xl font-bold text-red-600 mt-2"><%= hourBalance.negative.replace('-', '') %></p>
    </div>
</div>

<div class="bg-white p-6 rounded-2xl shadow-md mb-8 text-center">
    <h2 class="text-lg font-bold text-gray-800">Total</h2>
    <p class="text-5xl font-bold <%= hourBalance.total_minutes >= 0 ? 'text-green-600' : 'text-red-600' %> my-2">
        <%= hourBalance.formatted %>
    </p>
    <p class="text-sm text-gray-500">do seu banco de horas</p>
</div>

<div class="mt-8">
    <h2 class="text-2xl font-bold text-gray-800 mb-4">Histórico de Movimentações Recentes</h2>
    <div class="space-y-3">
        <% if (recentMovements && recentMovements.length > 0) { %>
            <% recentMovements.forEach(mov => { %>
                <div class="bg-white p-4 rounded-xl shadow-md flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-500"><%= new Date(mov.data_movimentacao).toLocaleDateString('pt-BR', {timeZone: 'UTC'}) %></p>
                        <p class="font-bold text-gray-800"><%= mov.motivo %></p>
                        <% if (mov.aprovado_por && (mov.status_nome === 'Aprovado' || mov.status_nome === 'Rejeitado')) { %>
                            <p class="text-xs text-gray-500 mt-1">
                                <%= mov.status_nome %> por: <%= mov.aprovado_por %>
                            </p>
                        <% } %>
                    </div>
                    <div class="text-right">
                        <p class="font-bold text-lg <%= mov.entrada ? 'text-green-600' : 'text-red-600' %>"><%= mov.entrada ? '+' : '-' %><%= mov.hora_total.substring(0, 5) %></p>
                        <p class="text-xs font-semibold px-2 py-1 rounded-full 
                            <% if(mov.status_nome === 'Aprovado') { %> bg-green-100 text-green-800 <% 
                            } else if(mov.status_nome === 'Pendente') { %> bg-yellow-100 text-yellow-800 <% 
                            } else { %> bg-red-100 text-red-800 <% } %>">
                            <%= mov.status_nome %>
                        </p>
                    </div>
                </div>
            <% }) %>
        <% } else { %>
            <p class="text-center text-gray-500">Nenhuma movimentação recente encontrada.</p>
        <% } %>
    </div>
</div>